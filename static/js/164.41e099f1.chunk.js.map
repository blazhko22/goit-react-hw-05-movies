{"version":3,"file":"static/js/164.41e099f1.chunk.js","mappings":"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","sources":["services/movie_api.js","webpack://react-homework-template/./src/components/Loading/Loading.module.css?25ee","components/Loading/Loading.jsx","webpack://react-homework-template/./src/components/Cast/Cast.module.css?c9ee","components/Cast/Cast.jsx","webpack://react-homework-template/./src/components/Reviews/Reviews.module.css?7248","components/Reviews/Reviews.jsx","webpack://react-homework-template/./src/views/MovieDetailsView/MovieDetailsView.module.css?8dcd","views/MovieDetailsView/MovieDetailsView.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'd0d0c76743394dffaefbccf1872ae919';\n\nconst fetchTrendingMovies = () => {\n  return axios\n    .get(`${BASE_URL}/trending/movie/day?api_key=${API_KEY}`)\n    .then(response => response.data.results);\n};\n\nconst fetchSearchMovies = searchQuery => {\n  return axios\n    .get(\n      `${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&query=${searchQuery}&page=1&include_adult=false`,\n    )\n    .then(response => response.data.results);\n};\n\nconst fetchMovie = id => {\n  return axios\n    .get(\n      `${BASE_URL}/movie/${id}?api_key=${API_KEY}&append_to_response=images&language=en-US`,\n    )\n    .then(response => response.data);\n};\n\nconst fetchCast = id => {\n  return axios\n    .get(`${BASE_URL}/movie/${id}/credits?api_key=${API_KEY}&language=en-US`)\n    .then(response => response.data);\n};\n\nconst fetchReviews = id => {\n  return axios\n    .get(`${BASE_URL}/movie/${id}/reviews?api_key=${API_KEY}&language=en-US`)\n    .then(response => response.data);\n};\n\nconst movieApi = {\n  fetchTrendingMovies,\n  fetchSearchMovies,\n  fetchMovie,\n  fetchCast,\n  fetchReviews,\n};\n\nexport default movieApi;","// extracted by mini-css-extract-plugin\nexport default {\"spinner\":\"Loading_spinner__s5eU9\"};","import React from 'react'\nimport Loader from 'react-loader-spinner';\nimport s from './Loading.module.css';\n\nconst Loading = () => {\n  return (\n    <div className={s.spinner}>\n      <Loader type=\"Circles\" color=\"#c75353\" height={100} width={100} />\n    </div>\n  );\n};\n\nexport default Loading;\n","// extracted by mini-css-extract-plugin\nexport default {\"text\":\"Cast_text__P2vgu\",\"list\":\"Cast_list__GlWio\",\"list_item\":\"Cast_list_item__Fn+lK\",\"img_wrapp\":\"Cast_img_wrapp__ahMMh\",\"author_img\":\"Cast_author_img__k1xcl\",\"titel_error\":\"Cast_titel_error__H8VA0\"};","import { useEffect, useState, useLayoutEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Loading from '../Loading';\nimport s from './Cast.module.css'\n\nimport movieApi from '../../services/movie_api';\nimport defaulImg from '../../images/unnamed.png';\n\nconst IMAGE_URL = 'https://image.tmdb.org/t/p/w154';\n\nexport default function Cast({ id }) {\n  const [dataCast, setDataCast] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [showNotFound, setShowNotFound] = useState(false);\n\n  useEffect(() => {\n    setIsLoading(true);\n\n    movieApi\n      .fetchCast(id)\n      .then(({ cast }) =>\n        cast.map(item => ({\n          name: item.name,\n          character: item.character,\n          img: item.profile_path,\n        })),\n      )\n      .then(arrayData => {\n        if (arrayData.length > 0) {\n          setDataCast(arrayData);\n        } else {\n          setShowNotFound(true);\n        }\n      })\n      .catch(error => console.log(error))\n      .finally(setIsLoading(false));\n  }, [id]);\n\n  useLayoutEffect(() => {\n    window.scrollTo({\n      top: 400,\n      behavior: 'smooth',\n    });\n  }, [dataCast, showNotFound]);\n\n  return (\n    <>\n      {isLoading && <Loading />}\n      {!isLoading && dataCast && (\n        <ul className={s.list}>\n          {dataCast.map(({ name, character, img }) => {\n            const authorImg = img ? `${IMAGE_URL}${img}` : defaulImg;\n            return (\n              <li className={s.list_item} key={character + name}>\n                <div className={s.img_wrapp}>\n                  <img className={s.author_img} src={authorImg} alt=\"actor\" />\n                </div>\n                <p className={s.text}>{name}</p>\n                <p className={s.text}>Character: {character}</p>\n              </li>\n            );\n          })}\n        </ul>\n      )}\n      {!isLoading && showNotFound && <h4 className={s.titel_error}>DATA NOT FOUND</h4>}\n    </>\n  );\n}\n\nCast.propTypes = {\n  id: PropTypes.number.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"Reviews_list__okdpy\",\"text\":\"Reviews_text__EqLvx\",\"error\":\"Reviews_error__urRRw\"};","import { useState, useEffect, useLayoutEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport movieApi from '../../services/movie_api';\nimport Loading from '../Loading';\nimport s from './Reviews.module.css';\n\nexport default function Reviews({ id }) {\n  const [dataReviews, setDataReviews] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [showNotFound, setShowNotFound] = useState(false);\n\n  useEffect(() => {\n    setIsLoading(true);\n\n    movieApi\n      .fetchReviews(id)\n      .then(({ results }) =>\n        results.map(result => ({\n          author: result.author,\n          content: result.content,\n          id: result.id,\n        })),\n      )\n      .then(arrayData => {\n        if (arrayData.length > 0) {\n          setDataReviews(arrayData);\n        } else {\n          setShowNotFound(true);\n        }\n      })\n      .catch(error => console.log(error))\n      .finally(setIsLoading(false));\n  }, [id]);\n\n  useLayoutEffect(() => {\n    window.scrollTo({\n      top: 400,\n      behavior: 'smooth',\n    });\n  }, [dataReviews, showNotFound]);\n\n  return (\n    <>\n      {!isLoading && dataReviews && (\n        <ul className={s.list}>\n          {dataReviews.map(({ author, content, id }) => (\n            <li key={id}>\n              <h3>Author: {author}</h3>\n              <p className={s.text}>{content}</p>\n            </li>\n          ))}\n        </ul>\n      )}\n      {isLoading && <Loading />}\n      {!isLoading && showNotFound && (\n        <h2 className={s.error}>We don't have any reviews for this movie</h2>\n      )}\n    </>\n  );\n}\n\nReviews.propTypes = {\n  id: PropTypes.number,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"movie_page\":\"MovieDetailsView_movie_page__9aY6X\",\"btn\":\"MovieDetailsView_btn__5QQRf\",\"about_film\":\"MovieDetailsView_about_film__l-aDe\",\"poster_wrap\":\"MovieDetailsView_poster_wrap__VgHy9\",\"poster\":\"MovieDetailsView_poster__Y8-pX\",\"inform\":\"MovieDetailsView_inform__XjiSR\",\"title\":\"MovieDetailsView_title__UY7Dk\",\"inform_item\":\"MovieDetailsView_inform_item__gtzGI\",\"inform_item_titel\":\"MovieDetailsView_inform_item_titel__3qV5a\",\"information\":\"MovieDetailsView_information__U54xZ\",\"information_titel\":\"MovieDetailsView_information_titel__r8fsk\",\"information_item\":\"MovieDetailsView_information_item__oMYDS\"};","import { useState, useEffect } from 'react';\nimport {\n  Link,\n  Route,\n  Switch,\n  useLocation,\n  useRouteMatch,\n  useHistory,\n} from 'react-router-dom';\nimport Cast from '../../components/Cast';\nimport Reviews from '../../components/Reviews';\n\nimport movieApi from '../../services/movie_api';\nimport s from './MovieDetailsView.module.css';\nimport defaulImg from '../../images/unnamed.png';\n\nconst IMAGE_URL = 'https://image.tmdb.org/t/p/w300';\n\nexport default function MovieDetailsView() {\n  const [movie, setMovie] = useState(null);\n  const { state } = useLocation();\n  const {\n    params: { movieID },\n    path,\n    url,\n  } = useRouteMatch();\n  const history = useHistory();\n\n  useEffect(() => {\n    const movieId = Number(movieID);\n    movieApi.fetchMovie(movieId).then(setMovie);\n  }, [movieID]);\n\n  const handleGoBack = () => {\n    if (state) {\n      history.push({\n        pathname: state.from.pathname,\n        search: state.from.search,\n      });\n      return;\n    }\n    history.push('/');\n  };\n\n  if (!movie) return null;\n\n  const {\n    id,\n    genres,\n    original_title: title,\n    poster_path: imgUrl,\n    overview,\n    vote_average,\n    release_date,\n  } = movie;\n\n  const ganresMovie = genres.map(item => item.name).join(' ');\n  const fullImageUrl = `${IMAGE_URL}${imgUrl}`;\n  const imageUrl = imgUrl ? fullImageUrl : defaulImg;\n\n  return (\n    <>\n      <div className={s.movie_page}>\n        <button className={s.btn} type=\"button\" onClick={handleGoBack}>\n          {'<- Go beck'}\n        </button>\n        <div className={s.about_film}>\n          <div className={s.poster_wrap}>\n            <img className={s.poster} src={imageUrl} alt=\"poster\" />\n          </div>\n          <div className={s.inform}>\n            <h2 className={s.title}>{`${title}  (${Number.parseInt(release_date)})`}</h2>\n            <p className={s.inform_item}>User Score: {vote_average * 10}%</p>\n            <h3 className={s.inform_item_titel}>Overview</h3>\n            <p className={s.inform_item}>{overview}</p>\n            <h3 className={s.inform_item_titel}>Genres</h3>\n            <p className={s.inform_item}>{ganresMovie}</p>\n          </div>\n        </div>\n      </div>\n\n      <div className={s.information}>\n        <h3 className={s.information_titel}>\n          Additional information\n        </h3>\n        <ul>\n          <li className={s.information_item}>\n            <Link\n              to={{\n                pathname: `${url}/cast`,\n                state: state\n                  ? {\n                      from: state.from,\n                    }\n                  : null,\n              }}\n            >\n              Cast\n            </Link>\n          </li>\n          <li className={s.information_item}>\n            <Link\n              to={{\n                pathname: `${url}/reviews`,\n                state: state\n                  ? {\n                      from: state.from,\n                    }\n                  : null,\n              }}\n            >\n              Reviews\n            </Link>\n          </li>\n        </ul>\n      </div>\n      <Switch>\n        <Route path={`${path}/cast`}>\n          <Cast id={id} />\n        </Route>\n        <Route path={`${path}/reviews`}>\n          <Reviews id={id} />\n        </Route>\n      </Switch>\n    </>\n  );\n}\n"],"names":["BASE_URL","API_KEY","movieApi","fetchTrendingMovies","axios","then","response","data","results","fetchSearchMovies","searchQuery","fetchMovie","id","fetchCast","fetchReviews","className","s","type","color","height","width","Cast","useState","dataCast","setDataCast","isLoading","setIsLoading","showNotFound","setShowNotFound","useEffect","cast","map","item","name","character","img","profile_path","arrayData","length","catch","error","console","log","finally","useLayoutEffect","window","scrollTo","top","behavior","authorImg","defaulImg","src","alt","Reviews","dataReviews","setDataReviews","result","author","content","MovieDetailsView","movie","setMovie","state","useLocation","useRouteMatch","movieID","params","path","url","history","useHistory","movieId","Number","genres","title","original_title","imgUrl","poster_path","overview","vote_average","release_date","ganresMovie","join","fullImageUrl","imageUrl","onClick","push","pathname","from","search","parseInt","to"],"sourceRoot":""}